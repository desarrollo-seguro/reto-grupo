{"mappings":"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","sources":["src/javascript/index.js"],"sourcesContent":["$(function () {\n    function getPartidos() {\n        $('tbody').empty();\n        $('zonaDetalle').hide();\n        $.ajax({\n            url: \"http://localhost:1234/api/partidos\",\n            success: function (data) {\n                data.forEach(element => {\n                    $('tbody').append($('<tr>')\n                        .append($('<td>').text(element.nombre))\n                        .append($('<td>').text(element.deporte))\n                        .append($('<td>').attr('class', 'precio').text(parseFloat(element.apuesta).toFixed(2) + \" €\"))\n                        .append($('<td>').text(mostrarResultado(element.resultado)))\n                        .append($('<td>').attr('class', 'tdBotones')\n                            .append($('<button>')\n                                .addClass('btn btn-dark btn-sm botonMaestro ganar')\n                                .attr('data-id', element.id)\n                                .text('Ganar'))\n\n\n                        )\n                        .append($('<td>').attr('class', 'tdBotones')\n                            .append($('<button>')\n                                .addClass('btn btn-dark btn-sm botonMaestro perder')\n                                .attr('data-id', element.id)\n                                .text('Perder'))\n\n\n                        )\n                        .append($('<td>').attr('class', 'tdBotones')\n                            .append($('<button>')\n                                .addClass('btn btn-dark btn-sm botonMaestro borrar')\n                                .attr('data-id', element.id)\n                                .text('Borrar'))\n\n                        )\n                        .append($('<td>').attr('class', 'tdBotones')\n                            .append($('<button>')\n                                .addClass('btn btn-dark btn-sm botonMaestro detalle')\n                                .attr('data-id', element.id)\n                                .text('Ver Detalle'))\n\n                        )\n                    );\n\n                });\n            },\n            error: function (error) {\n                mostrarError(\"Error al listar los productos\")\n                console.log(error)\n            },\n            complete: function (data) {\n                $('tbody').off('click', '.botonMaestro.borrar');\n                $('tbody').off('click', '.botonMaestro.ganar');\n                $('tbody').off('click', '.botonMaestro.perder');\n                $('tbody').off('click', '.botonMaestro.detalle');\n\n                $('tbody').on('click', '.botonMaestro.borrar', function (event) {\n\n                    event.stopPropagation();\n                    var id = $(this).data('id');\n                    borrarPartido(id);\n                    console.log('Hola desde botonBorrar');\n                });\n\n                $('tbody').on('click', '.botonMaestro.ganar', function (event) {\n\n                    event.stopPropagation();\n                    var id = $(this).data('id');\n                    setTimeout(ganar(id),1000)\n                });\n                $('tbody').on('click', '.botonMaestro.perder', function (event) {\n\n                    event.stopPropagation();\n                    var id = $(this).data('id');\n                    setTimeout(perder(id), 3000);\n                });\n                $('tbody').on('click', '.botonMaestro.detalle', function (event) {\n\n                    event.stopPropagation();\n                    var id = $(this).data('id');\n                    console.log('Hola desde boton VerDetalle');\n                    verDetalleProducto(id);\n                    $('#tituloDetalle').text('Detalles del producto');\n                    $('#botonCambios').text('Modificar').off().on('click', function () {\n                        if (verificarCampos()) {\n                            mostrarModalConfirmacion('Modificar producto', '¿Modificar producto?', () => {\n                                guardarDatos();\n                            });\n                        }\n                    });\n                });\n            }\n\n\n        })\n    }\n    function mostrarResultado(resultado) {\n\n        switch (resultado) {\n            case 1:\n                return \"Victoria\";\n            case -1:\n                return \"Derrota\";\n            case 0:\n                return \"Empate\";\n            default:\n                return \"error\";\n        }\n    }\n    function borrarPartido(id) {\n        $.ajax({\n            url: `http://localhost:1234/api/partidos/${id}`,\n            type: 'DELETE',\n            success: function (data) {\n                refrescar()\n\n            },\n            error: function (error) {\n                //mostrarError(\"Fallo al eliminar el partido\")\n                console.log(error)\n            },\n\n        })\n    }\n    function verDetalleProducto(id) {\n        $.ajax({\n            url: `http://localhost:1234/api/partidos/${id}`,\n            success: function (data) {\n                $('#id').val(data.id)\n                $('#nombrePartido').val(data.nombre)\n                $('#descripcionPartido').val(data.descripcion)\n                $('#deporte').val(data.deporte)\n                $('#resultado').val(mostrarResultado(data.resultado))\n                $('#apuestaPartido').val(parseFloat(data.apuesta).toFixed(2) + ' €')\n\n                if (data.id >= 0) {\n                    mostrarDetalle();\n                    $('#botonCambios')\n                        .text('Modificar')\n                }\n            },\n            error: function (error) {\n                mostrarError(\"Error al recuperar los datos\");\n                console.log(error)\n            },\n        })\n    }\n    function ganar(id) {\n        $.ajax({\n            url: `http://localhost:1234/api/partidos/${id}/gana`,\n            type: \"POST\",\n            success: function (respuesta) {\n\n            },\n            error: function (error) {\n                console.log(error.responseText);\n            },\n            complete: function () {\n                refrescar()\n            }\n        })\n    }\n    function perder(id) {\n        $.ajax({\n            url: `http://localhost:1234/api/partidos/${id}/pierde`,\n            type: \"POST\",\n            success: function (respuesta) {\n                \n            },\n            error: function (error) {\n                console.log(error.responseText);\n            },\n            complete: function () {\n                refrescar()\n            }\n        })\n    }\n    function mostrarDetalle() {\n        $('.zonaDetalle').show();\n        //$('button.botonMaestro').prop('disabled', true);\n    }\n\n    function refrescar() {\n        $('.zonaDetalle').hide();\n        //$('#botonCambios').off()\n        getPartidos();\n    }\n\n    getPartidos()\n    $('#refrescar').on('click', function () {\n        refrescar()\n    })\n    $('.zonaDetalle').hide();\n})"],"names":[],"version":3,"file":"index.005eec76.js.map","sourceRoot":"/__parcel_source_root/"}